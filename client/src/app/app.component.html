<div class="row" *ngIf='identity'>
  <div class='navigation col-lg-1'>
    <h1 class="head-title">
      <a [routerLink]="['/']">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-music-note-beamed" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2zm9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2z"/>
          <path fill-rule="evenodd" d="M14 11V2h1v9h-1zM6 3v10H5V3h1z"/>
          <path d="M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4V2.905z"/>
        </svg>
        {{ title }}
      </a>
    </h1>
    <nav id="navigation">
      <button type="button" class="btn btn-outline-primary d-block">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
          <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
        </svg>
        <br>
        Buscar
      </button>
      <button [routerLink]="['/artistas', 1]" [routerLinkActive]="['active']" type="button" class="btn btn-outline-primary d-block">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-brush-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.117 8.117 0 0 1-3.078.132 3.658 3.658 0 0 1-.563-.135 1.382 1.382 0 0 1-.465-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.393-.197.625-.453.867-.826.094-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.2-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.175-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04z"/>
        </svg>
        <br>
        Artistas
      </button>
      <button type="button" class="btn btn-outline-primary d-block">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-bag-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M8 1a2.5 2.5 0 0 0-2.5 2.5V4h5v-.5A2.5 2.5 0 0 0 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5z"/>
        </svg>
        <br>
        Albums
      </button>
    </nav>
    <nav id="user_logged">
      <div class="">
        <img id="imageUserLogged" src="{{ url + 'getImageUser/' + identity.image }}" width="50px">
      </div>
      <span id="identity_name">
        {{ identity.name }}
      </span>
      <button [routerLink]="['/mis-datos']" [routerLinkActive]="['active']" type="button" class="btn btn-outline-primary d-block">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-info-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
        </svg>
        <br>
        Mis datos
      </button>
      <button (click)="logOut()" type="button" class="btn btn-warning d-block">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
        </svg>
        <br>
        Salir
      </button>
    </nav>
  </div>
    
  <div [class.hidden]="!identity" class="col-lg-11">
    <router-outlet></router-outlet>
  </div>
</div>

<div class="row" *ngIf="!identity">
  <div class="col-lg-12 container-fluid">
    <div class="row">
      <div class="col-lg-6">
        <h1>Login</h1>
        <div *ngIf="errorMessage">
          <div class="alert alert-warning" role="alert">
            <strong>Error:</strong> {{ errorMessage }}
          </div>
        </div>
        <form #loginForm="ngForm" (ngSubmit)="onSubmit()" class="col-md-6">
          <p>
            <label>Email</label>
            <input type="email" #email="ngModel" name="email" [(ngModel)]="user.email" class="form-control" required>
            <span *ngIf="!email.valid && email.touched">
              El campo email es obligatorio
            </span>
          </p>
          <p>
            <label>Password</label>
            <input type="password" #password="ngModel" name="password" [(ngModel)]="user.password" class="form-control" required>
            <span *ngIf="!password.valid && password.touched">
              El campo password es obligatorio
            </span>
          </p>
          <input type="submit" value="Entrar" class="btn btn-primary">
        </form>
      </div>
      <div class="col-lg-6">
        <h1>Registro</h1>
        <div *ngIf="alertRegister">
          <div class="alert alert-info" role="alert">
            {{ alertRegister }}
          </div>
        </div>
        <form #registerForm="ngForm" (submit)="onSubmitRegister()" class="col-md-8">
          <p>
            <label>Nombre</label>
            <input type="text" #name="ngModel" name ="name" [(ngModel)]="user_register.name" class="form-control" required>
            <span *ngIf="!name.valid && name.touched">
              El campo nombre es obligatorio
            </span>
          </p>
          <p>
            <label>Apellido</label>
            <input type="text" #surname="ngModel" name ="surname" [(ngModel)]="user_register.surname" class="form-control" required>
            <span *ngIf="!surname.valid && surname.touched">
              El campo apellidos es obligatorio
            </span>
          </p>
          <p>
            <label>Email</label>
            <input type="text" #email="ngModel" name ="email" [(ngModel)]="user_register.email" class="form-control" required>
            <span *ngIf="!email.valid && email.touched">
              El campo email es obligatorio
            </span>
          </p>
          <p>
            <label>Password</label>
            <input type="password" #password="ngModel" name ="password" [(ngModel)]="user_register.password" class="form-control" required>
            <span *ngIf="!password.valid && password.touched">
              El campo contrase√±a es obligatorio
            </span>
          </p>
          <input type="submit" value="Registrar" class="btn btn-primary">
        </form>
      </div>
    </div>
  </div>
</div>